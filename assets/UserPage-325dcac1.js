import{s as u,P as f,a as j,j as e,L as F}from"./index-b8802cda.js";import{F as C,a as E,b as c,E as h}from"./formik.esm-c4948565.js";import{u as y}from"./useDispatch-6a28fc2f.js";import{c as k,a as p,b as U}from"./index.esm-877c80e2.js";const $=u.img`
  width: 182px;
  height: 182px;
`,w=({isFormDisabled:t})=>{const n=y(),[i,a]=j.useState(!1),[r,m]=j.useState(!1),x={avatar:"https://images.unsplash.com/photo-1529778873920-4da4926a72c2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y3V0ZSUyMGNhdHxlbnwwfHwwfHx8MA%3D%3D&w=1000&q=80"},b={avatar:x.avatar},d=()=>{m(!0)},o=async l=>{if(a(!1),l.target.files[0].type!=="image/jpeg"){a(!0);return}m(!1);const g=new FormData;g.append("avatar",l.target.files[0]),n(uploadImg(g))},s=l=>{l("avatar",null),m(!1)};return e.jsxs(e.Fragment,{children:[i&&e.jsx("p",{children:"Only img can be uploaded"}),e.jsx($,{src:x.avatar,alt:""}),!t&&e.jsx(C,{initialValues:b,onSubmit:o,children:({values:l,setFieldValue:g})=>e.jsxs(E,{encType:"multipart/form-data",children:[e.jsx(c,{type:"file",id:"avatar",name:"avatar",accept:"image/*",value:void 0}),r?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"submit",children:e.jsx(Confirm,{})}),e.jsx("p",{children:"Confirm"}),l.avatar&&e.jsx("button",{type:"button",onClick:()=>s(g),children:e.jsx(Decline,{})})]}):e.jsxs("button",{type:"button",onClick:d,children:[e.jsx(EditAvatar,{}),"Edit photo"]})]})})]})};w.propTypes={isFormDisabled:f.bool.isRequired};const v=({isFormDisabled:t})=>{const[n,i]=j.useState(!1),a=y(),r={name:"Anna",email:"anna00@gmail.com",birthday:"00.00.0000",phone:38e9,city:"Kiev"},m=k().shape({name:p().min(3).max(30).required(),email:p().email().matches(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,"Invalid email").required(),birthday:p().required(),phone:U().min(3).max(30).required(),city:p().min(3).max(30).required()}),x=s=>{a(editUser(s))},b={name:r.name,email:r.email,birthday:r.birthday,phone:r.phone,city:r.city},d=()=>{i(!0)},o=()=>{i(!1)};return e.jsx("div",{children:e.jsx(C,{initialValues:b,validate:m,onSubmit:x,children:({isSubmitting:s})=>e.jsxs(v,{children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(c,{type:"text",name:"name",id:"name",disabled:s||t,onChange:d,onBlur:o})]}),e.jsx(h,{name:"name",component:"div"}),e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx(c,{type:"email",name:"email",id:"email",disabled:s||t,onChange:d,onBlur:o}),e.jsx(h,{name:"email",component:"div"}),e.jsx("label",{htmlFor:"birthday",children:"Birthday"}),e.jsx(c,{type:"date",name:"birthday",id:"birthday",disabled:s||t,onChange:d,onBlur:o}),e.jsx(h,{name:"birthday",component:"div"}),e.jsx("label",{htmlFor:"phone",children:"Phone"}),e.jsx(c,{type:"number",name:"phone",id:"phone",disabled:s||t,onChange:d,onBlur:o}),e.jsx(h,{name:"phone",component:"div"}),e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx(c,{type:"text",name:"city",id:"city",disabled:s||t,onChange:d,onBlur:o}),e.jsx(h,{name:"city",component:"div"}),n?e.jsx("button",{type:"submit",disabled:s||t,children:"Save"}):e.jsxs("button",{type:"button",children:[e.jsx(LogOutSvg,{})," Log Out"]})]})})})};v.propTypes={isFormDisabled:f.bool.isRequired};const I=()=>{const t=y(),n=[{id:1,img:"https://cdn.pixabay.com/photo/2014/11/30/14/11/cat-551554_640.jpg",name:"gggggggg",dateofbirth:"gggggggggg",comments:"gggggggggggggg"}],i=a=>{t(deletePetFromFavorite(a.target.id))};return e.jsx("div",{children:n.map(a=>e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:i,children:e.jsx(Delete,{})}),e.jsxs("div",{children:[e.jsx("img",{src:a.img,alt:""}),e.jsxs("div",{children:[e.jsx("p",{children:a.name}),e.jsx("p",{children:a.dateofbirth}),e.jsx("p",{children:a.comments})]})]})]},a.id))})},A=u.div`

  min-width: ${t=>t.theme.sizes.desk};
  padding: 20px;

  @media (min-width: ${t=>t.theme.sizes.tab}) {
    min-width:${t=>t.theme.sizes.tab};
    max-width:${t=>t.theme.sizes.desk};
  }

  @media (min-width: ${t=>t.theme.sizes.mobile}) {
    min-width:${t=>t.theme.sizes.mobile};
    max-width:${t=>t.theme.sizes.tab};
  }
`,B=u.div`
  background-color: ${t=>t.theme.background.wight};
`,M=u.div`
  background-color: ${t=>t.theme.background.wight};
`,D=()=>{const[t,n]=j.useState(!1),i=()=>{n(!1)},a=()=>{n(!0)};return e.jsxs(A,{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"My information"}),e.jsxs(B,{children:[t?e.jsx("button",{type:"button",onClick:i,children:e.jsx(CloseSvg,{})}):e.jsx("button",{type:"button",onClick:a,children:e.jsx(EditSvg,{})}),e.jsx(w,{isFormDisabled:t}),e.jsx(v,{isFormDisabled:t})]})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"My pets"}),e.jsxs(F,{to:"..add pet page",children:["Add Pet",e.jsx(AddSvg,{})]}),e.jsx(M,{children:e.jsx(I,{})})]})]})};export{D as default};
